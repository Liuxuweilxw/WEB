<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>无标题文档</title>
	<style>
		.wrap table {
			margin: 100px auto;
		}
	
	</style>
</head>

<body>
	<div class="wrap">
		<table>
			<thead>
				<tr>
					<th>
						<input type="checkbox" id="j_cbAll">
					</th>
					<th>商品</th>
					<th>价格</th>
				</tr>
			</thead>
			<tbody id="j_tb">
				<tr>
					<td>
						<input type="checkbox">
					</td>
					<td>iPhone</td>
					<td>8000</td>
				</tr>
				<tr>
					<td>
						<input type="checkbox">
					</td>
					<td>iPad</td>
					<td>3000</td>
				</tr>
				<tr>
					<td>
						<input type="checkbox">
					</td>
					<td>Apple watch</td>
					<td>2000</td>
				</tr>
				<tr>
					<td>
						<input type="checkbox">
					</td>
					<td>iPad Air</td>
					<td>4000</td>
				</tr>
			</tbody>
		</table>
	</div>
	<script>
		var j_cbAll=document.getElementById('j_cbAll');
		var j_tb=document.getElementById('j_tb').getElementsByTagName('input');
		j_cbAll.onclick=function() {
			for(var i=0;i<j_tb.length;i++){
				j_tb[i].checked=this.checked;
			}
		}
		for(var j=0;j<j_tb.length;j++){
			j_tb[j].onclick=function(){
				var flag=true;
				for(i=0;i<j_tb.length;i++){
					if(!j_tb[i].checked){
						flag=false;
						break;
					}
				}
				j_cbAll.checked=flag;
			}
		}
	</script>
</body>
</html>
