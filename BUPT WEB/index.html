<!--登陆首页-->
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BUPT研究生实习实践管理平台</title>
    <!-- 网站说明 -->
    <meta name="description" content="北京邮电大学 Beijing University of Posts and Telecommunications 研究生实习实践管理平台">
    <meta name="keywords" content="北京邮电大学，BUPT，Beijing University of Posts and Telecommunications，研究生，实习，实践，管理平台，登陆">
    <link rel="stylesheet" href="css/base.css">
    <link rel="stylesheet" href="css/common.css">
    <link rel="stylesheet" href="css/index.css">
    <link rel="shortcut icon" href="bupt.ico">
<!--    <link rel="stylesheet" href="css/loading.css">-->
    <script src="js/jquery-3.5.1.min.js"></script>
<!--    <script src="js/loading.js"></script>-->
</head>

<body>
<div class="loading"></div>
<div class="header">
    <div class="logo">
        <a href="index.html" title="BUPT研究生实习实践管理平台"><img src="images/logo.png" alt=""></a>
    </div>
    <div class="fr">
        还没有账户？<a href="register.html">请注册</a>
    </div>
</div>
<div class="m">
    <div class="sign_form">
        <h3>欢迎登陆</h3>

        <form action="" id="login_form">

            <div class="usrbox_clearfix">
                <div class="icon">
                    <i class="icon_username"></i>
                </div>
                <input id="userid" name="userid" placeholder="请输入学工号" type="text">
                <span class="error"></span>
            </div>
            <div class="usrbox_clearfix">
                <div class="icon">
                    <i class="icon_password"></i>
                </div>
                <input id="password" name="password" placeholder="请输入密码" type="password">
                <span class="error"></span>
            </div>
            <div class="login_link">
                <span class="login_forpwd">
                    <a href="forgetpassword.html">忘记密码</a>
                </span>
                <span class="login_help">
                    <a href="login_help.html">登陆帮助</a>
                </span>
            </div>

            <div class="submit">
                <input type="submit" value="登陆">
            </div>

        </form>
    </div>
</div>
<div class="footer">
    <div class="copyright">
        版权所有 © 北京邮电大学  地址:北京市西土城路10号  邮编:100876  Powered by Liuxuwei
    </div>
</div>


<!--script-->

<script>
    //  // 加载动画
    $(function () {
        if(document.readyState === 'complete'){
            $(".loading").fadeOut(800);
        }
    });
    //

     // 本地验证
    let $form = $('#login_form')
    $form.on('submit',function(e){
        e.preventDefault()
        let hash = {}
        let need = ['userid', 'password']
        need.forEach((name)=>{
            let value = $form.find(`[name=${name}]`).val()
            hash[name] = value
        })
        $form.find('.error').each((index, span)=>{
            $(span).text('')
        })
        if(hash['userid'] === ''){
            $form.find('[name="userid"]').siblings('.error')
                .text('填写学号呀同学')

        }
        if(hash['password'] === ''){
            $form.find('[name="password"]').siblings('.error')
                .text('填写密码呀同学')
        }
        // $.post('/login', hash)
        //     .then((response)=>{
        //         window.location.href = 'main.html'
        //     }, (request)=>{
        //         let {errors} = request.responseJSON
        //         console.log(errors)
        //         if(errors.userid && errors.password === 'fail'){
        //             $form.find('[name="password"]').siblings('.error')
        //                 .text('学号或密码错误')
        //         }
        //     })
        if(hash['userid'] === '111' && hash['password'] === '111'){
            window.location.href = "main.html"
        }else{
            alert("账号或密码错误")
        }
         })
        //
</script>
</body>
</html>